{
  "fileTypes": [
    "ds"
  ],
  "name": "Dust",
  "patterns": [
    {
      "include": "#expression"
    }
  ],
  "repository": {
    "expression": {
      "name": "meta.expression.sqf",
      "patterns": [
        { "include": "#statement" }
      ]
    },
    "statement": {
      "patterns": [
        { "include": "#comment" },
        { "include": "#typeof" },
        { "include": "#functionDeclaration" },
        { "include": "#return" },
        { "include": "#literal" },
        { "include": "#variableDeclaration" }
      ]
    },
    "comment": {
      "name": "comment",
      "patterns": [
        { "include": "#commentBlock" },
        { "include": "#commentLine" }
      ]
    },
    "commentBlock": {
      "begin": "#\\*",
      "end": "\\*#",
      "name": "comment.block"
    },
    "commentLine": {
      "match": "#",
      "name": "comment.line"
    },
    "literal": {
      "name": "comment",
      "patterns": [
        { 
          "include": "#literalConstants" 
        },
        { 
          "include": "#literalString" 
        },
        { 
          "include": "#literalNumeric" 
        }
      ]
    },
    "literalConstants": {
        "match": "(\\s*)(false|true)\\b",
        "name": "constant.language"
    },
    "literalString": {
      "name": "string",
      "begin": "\"",
      "end": "\""
    },
    "literalNumeric": {
      "name": "constant.numeric",
      "begin": "[0-9]+",
      "beginCaptures": {
        "1": {
          "name": "keyword.operator.js"
        }
      },
      "end": ""
    },
    "variableDeclaration": {
      "begin": "(?<!\\.|\\$)\\b(let\\b|let\\s*mut\\b)\\s+(?:([A-Za-z$_][A-Za-z$_0-9]*)\\s*\\.\\s*)?([A-Za-z$_][A-Za-z$_0-9]*)\\s*\\=\\s*",
      "beginCaptures": {
        "1": {
          "name": "storage.type.function.js"
        },
        "3": {
          "name": "entity.name.type"
        }
      },
      "end": ""
    },
    "typeof": {
      "name": "constant.language",
      "match": "(\\s*)typeof\\b"
    },
    "functionDeclaration": {
      "begin": "(?<!\\.|\\$)\\b(?:(inline)\\s+)?(function\\b)\\s+(?:([A-Za-z$_][A-Za-z$_0-9]*)\\s*\\.\\s*)?([A-Za-z$_][A-Za-z$_0-9]*)\\s*",
			"beginCaptures": {
				"1": {
					"name": "storage.modifier.async.js"
				},
				"2": {
					"name": "storage.type.function.js"
				},
				"3": {
					"name": "meta.definition.function.js entity.name.function.js"
				},
				"4": {
					"name": "meta.definition.function.js entity.name.function.js"
				}
			},
			"end": "(?=$|^|;)|(?<=\\})"
    }
  },
  "scopeName": "source.dust"
}